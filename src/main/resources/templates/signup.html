<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>회원가입 - 자취방 레시피</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" th:href="@{/css/recipe.css}"/>
</head>
<body class="min-h-screen bg-gradient-to-br from-amber-900 via-gray-900 to-amber-950 flex items-center justify-center p-4">
  <div class="w-full max-w-md mx-auto">
    <!-- 헤더 -->
    <div class="bg-gradient-to-br from-amber-800 to-amber-900 rounded-t-3xl p-6 shadow-2xl border-8 border-amber-950">
      <a th:href="@{/login}" href="/login" class="text-amber-200 hover:text-amber-100 mb-4 flex items-center gap-2 transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
        돌아가기
      </a>
      <div class="flex items-center justify-center mb-3">
        <div class="bg-amber-700 p-3 rounded-full text-white">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        </div>
      </div>
      <h1 class="text-2xl text-center text-amber-50 font-bold mb-1">🏠 새 자취방 입주하기</h1>
      <p class="text-center text-amber-200 text-sm">🎲 식단 가챠가 기다려요!</p>
    </div>

    <!-- 회원가입 폼 -->
    <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-b-3xl p-6 shadow-2xl border-8 border-t-0 border-gray-950">
      <form th:action="@{/signup}" action="/signup" method="post">
        <input type="hidden" name="password" id="signup-password-value"/>
        <input type="hidden" name="confirmPassword" id="signup-confirm-value"/>

        <div class="mb-4">
          <label class="block text-gray-300 mb-2 text-sm">📧 연락처 (이메일)</label>
          <input type="email" name="email" id="signup-email" placeholder="집주인 연락처를 입력하세요" required
                 class="w-full bg-gray-700 text-white px-4 py-2 rounded-lg border-2 border-gray-600 focus:border-amber-500 focus:outline-none"/>
        </div>

        <div class="mb-4">
          <label class="block text-gray-300 mb-2 text-sm">👤 호칭 (닉네임)</label>
          <input type="text" name="nickname" id="signup-nickname" placeholder="뭐라고 불러드릴까요?" required
                 class="w-full bg-gray-700 text-white px-4 py-2 rounded-lg border-2 border-gray-600 focus:border-amber-500 focus:outline-none"/>
        </div>

        <!-- 비밀번호 입력 선택 -->
        <div class="grid grid-cols-2 gap-2 mb-4">
          <button type="button" id="active-password" class="py-2 px-3 rounded-lg text-sm transition-colors bg-green-700 text-white">
            🔐 도어락 설정
          </button>
          <button type="button" id="active-confirm" class="py-2 px-3 rounded-lg text-sm transition-colors bg-gray-700 text-gray-300">
            🔐 번호 확인
          </button>
        </div>

        <!-- 비밀번호 디스플레이 -->
        <div class="bg-green-900/50 border-4 border-green-950 rounded-lg p-3 mb-4">
          <div class="mb-3">
            <div class="flex items-center justify-between mb-1">
              <span class="text-green-300 text-xs">🔐 현관 비밀번호</span>
              <span class="text-green-400 text-xs" id="password-count">0/16</span>
            </div>
            <div class="bg-black/50 rounded px-3 py-2 min-h-10 flex items-center">
              <div id="password-display" class="flex gap-1 flex-wrap text-green-400 text-lg font-mono"></div>
            </div>
          </div>
          <div>
            <div class="flex items-center justify-between mb-1">
              <span class="text-green-300 text-xs">🔐 번호 한번 더</span>
              <span id="confirm-status"></span>
            </div>
            <div class="bg-black/50 rounded px-3 py-2 min-h-10 flex items-center">
              <div id="confirm-display" class="flex gap-1 flex-wrap text-green-400 text-lg font-mono"></div>
            </div>
          </div>
          <div class="flex items-center justify-between mt-2">
            <p class="text-green-400/80 text-xs">도어락: 0-9, #, *, ^, ), (, @</p>
            <button type="button" id="toggle-password" class="text-green-400 text-xs hover:text-green-300 transition-colors">보기</button>
          </div>
        </div>

        <!-- 키패드 -->
        <div class="grid grid-cols-4 gap-2 mb-4" id="keypad">
          <button type="button" class="keypad-btn bg-gray-700 hover:bg-gray-600 text-white text-lg py-3 rounded-lg border-2 border-gray-600 transition-colors font-mono">0</button>
          <button type="button" class="keypad-btn bg-gray-700 hover:bg-gray-600 text-white text-lg py-3 rounded-lg border-2 border-gray-600 transition-colors font-mono">1</button>
          <button type="button" class="keypad-btn bg-gray-700 hover:bg-gray-600 text-white text-lg py-3 rounded-lg border-2 border-gray-600 transition-colors font-mono">2</button>
          <button type="button" class="keypad-btn bg-gray-700 hover:bg-gray-600 text-white text-lg py-3 rounded-lg border-2 border-gray-600 transition-colors font-mono">3</button>
          <button type="button" class="keypad-btn bg-gray-700 hover:bg-gray-600 text-white text-lg py-3 rounded-lg border-2 border-gray-600 transition-colors font-mono">4</button>
          <button type="button" class="keypad-btn bg-gray-700 hover:bg-gray-600 text-white text-lg py-3 rounded-lg border-2 border-gray-600 transition-colors font-mono">5</button>
          <button type="button" class="keypad-btn bg-gray-700 hover:bg-gray-600 text-white text-lg py-3 rounded-lg border-2 border-gray-600 transition-colors font-mono">6</button>
          <button type="button" class="keypad-btn bg-gray-700 hover:bg-gray-600 text-white text-lg py-3 rounded-lg border-2 border-gray-600 transition-colors font-mono">7</button>
          <button type="button" class="keypad-btn bg-gray-700 hover:bg-gray-600 text-white text-lg py-3 rounded-lg border-2 border-gray-600 transition-colors font-mono">8</button>
          <button type="button" class="keypad-btn bg-gray-700 hover:bg-gray-600 text-white text-lg py-3 rounded-lg border-2 border-gray-600 transition-colors font-mono">9</button>
          <button type="button" class="keypad-btn bg-gray-700 hover:bg-gray-600 text-white text-lg py-3 rounded-lg border-2 border-gray-600 transition-colors font-mono">#</button>
          <button type="button" class="keypad-btn bg-gray-700 hover:bg-gray-600 text-white text-lg py-3 rounded-lg border-2 border-gray-600 transition-colors font-mono">*</button>
          <button type="button" class="keypad-btn bg-gray-700 hover:bg-gray-600 text-white text-lg py-3 rounded-lg border-2 border-gray-600 transition-colors font-mono">^</button>
          <button type="button" class="keypad-btn bg-gray-700 hover:bg-gray-600 text-white text-lg py-3 rounded-lg border-2 border-gray-600 transition-colors font-mono">)</button>
          <button type="button" class="keypad-btn bg-gray-700 hover:bg-gray-600 text-white text-lg py-3 rounded-lg border-2 border-gray-600 transition-colors font-mono">(</button>
          <button type="button" class="keypad-btn bg-gray-700 hover:bg-gray-600 text-white text-lg py-3 rounded-lg border-2 border-gray-600 transition-colors font-mono">@</button>
        </div>

        <div class="grid grid-cols-2 gap-3">
          <button type="button" id="delete-password" class="bg-red-700 hover:bg-red-600 text-white py-3 rounded-lg flex items-center justify-center gap-2 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>
            지우기
          </button>
          <button type="submit" id="submit-btn" disabled class="bg-green-700 hover:bg-green-600 disabled:bg-gray-700 disabled:cursor-not-allowed text-white py-3 rounded-lg transition-colors">
            입주 완료! 🏠
          </button>
        </div>
      </form>
    </div>
  </div>
  <script th:src="@{/js/signup.js}"></script>
</body>
</html>
